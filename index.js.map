{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46966788-e70827204bebbcb7a27eabe68';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\nexport async function fetchImages(query) {\n    const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .then(data => {\n            return data.hits;\n        })\n        .catch(error => {\n            console.error('Error fetching images', error);\n            return [];\n        });\n}\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function renderGallery(images, galleryElement) {\n    const markup = images.map(image => {\n        return `\n            <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"360\" height=\"200\" loading=\"lazy\" />\n                <div class=\"info\">\n                    <p>Likes: ${image.likes}</p>\n                    <p>Views: ${image.views}</p>\n                    <p>Comments: ${image.comments}</p>\n                    <p>Downloads: ${image.downloads}</p>\n                </div>\n            </a>\n        `;\n    }).join('');\n    \n    galleryElement.innerHTML = markup;\n}\n\nexport function showError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n    });\n}\n\nexport function showInfo(message) {\n    iziToast.info({\n        title: 'Info',\n        message: message,\n    });\n}\n\n","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery, showError, showInfo } from './js/render-functions';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('#form-js');\nconst galleryElement = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox;\n\nform.addEventListener('submit', async (e) => {\n    e.preventDefault();\n\n    const query = form.querySelector('input').value.trim();\n\n    if (!query) {\n        showInfo(\"Please enter a search term.\");\n        return;\n    }\n\n    galleryElement.innerHTML = '';\n    showLoader();\n\n    fetchImages(query)\n        .then(images => {\n            hideLoader();\n\n            if (images.length === 0) {\n                showError(\"Sorry, there are no images matching your search query. Please try again!\");\n            } else {\n                renderGallery(images, galleryElement);\n\n                if (!lightbox) {\n                    lightbox = new SimpleLightbox('.gallery a');\n                } else {\n                    lightbox.refresh();\n                }\n            }\n        })\n        .catch(() => {\n            hideLoader();\n            showError(\"Something went wrong. Please try again later.\");\n        });\n});\n\nfunction showLoader() {\n    loader.style.display = 'block';\n}\n\nfunction hideLoader() {\n    loader.style.display = 'none';\n    }"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","data","error","renderGallery","images","galleryElement","markup","image","showError","message","iziToast","showInfo","form","loader","lightbox","e","showLoader","hideLoader","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAGV,eAAeC,EAAYC,EAAO,CACrC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAErE,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAEjD,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GACKA,EAAK,IACf,EACA,MAAMC,IACH,QAAQ,MAAM,wBAAyBA,CAAK,EACrC,GACV,CACT,CClBO,SAASC,EAAcC,EAAQC,EAAgB,CAClD,MAAMC,EAASF,EAAO,IAAIG,GACf;AAAA,uBACQA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,gCAElCA,EAAM,KAAK;AAAA,gCACXA,EAAM,KAAK;AAAA,mCACRA,EAAM,QAAQ;AAAA,oCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAI9C,EAAE,KAAK,EAAE,EAEVF,EAAe,UAAYC,CAC/B,CAEO,SAASE,EAAUC,EAAS,CAC/BC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,CACjB,CAAK,CACL,CAEO,SAASE,EAASF,EAAS,CAC9BC,EAAS,KAAK,CACV,MAAO,OACP,QAASD,CACjB,CAAK,CACL,CC5BA,MAAMG,EAAO,SAAS,cAAc,UAAU,EACxCP,EAAiB,SAAS,cAAc,UAAU,EAClDQ,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEJF,EAAK,iBAAiB,SAAU,MAAOG,GAAM,CACzCA,EAAE,eAAc,EAEhB,MAAMjB,EAAQc,EAAK,cAAc,OAAO,EAAE,MAAM,OAEhD,GAAI,CAACd,EAAO,CACRa,EAAS,6BAA6B,EACtC,MACH,CAEDN,EAAe,UAAY,GAC3BW,IAEAnB,EAAYC,CAAK,EACZ,KAAKM,GAAU,CACZa,IAEIb,EAAO,SAAW,EAClBI,EAAU,0EAA0E,GAEpFL,EAAcC,EAAQC,CAAc,EAE/BS,EAGDA,EAAS,QAAO,EAFhBA,EAAW,IAAII,EAAe,YAAY,EAK9D,CAAS,EACA,MAAM,IAAM,CACTD,IACAT,EAAU,+CAA+C,CACrE,CAAS,CACT,CAAC,EAED,SAASQ,GAAa,CAClBH,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASI,GAAa,CAClBJ,EAAO,MAAM,QAAU,MAC3B"}